# Changelog

## 2026-01-18

### タスクページUI改善
- 各カードに削除ボタンを追加（右上に配置）
- メモ機能を追加（横展開で入力・表示）
- Goal追加時にモーダルでタイトルと終了日を設定可能に
- 期限設定ボタンを右寄せ配置

### タスクツリー展開機能改善
- Goal/Project/Milestoneは子要素がなくても展開可能に
- 展開後に「+ Projectを追加」等のボタンを表示
- 階層的な追加フロー（Goal → Project → Milestone → Task）を実現
- 右端の矢印アイコンを削除してUIをシンプル化

### 完了チェック機能
- 子要素がないアイテム（Goal/Project/Milestone含む）はチェックボックスで完了可能

### Goal追加ボタン
- 何も展開していないときのみ「+ Goalを追加」ボタンを表示
- 展開中は非表示にしてUIを整理

### 重複IDバグ修正
- GoalのIDをタイムスタンプ+ランダム文字列で生成（重複防止）
- データ読み込み時に重複IDを自動検出・修正
- 修正があった場合は自動でFirestoreに保存

### プロフィール設定
- 「趣味・好きなこと」欄を追加

### 設定・ログアウトUI変更
- 右上に設定ボタン（歯車アイコン付き）を配置
- ログアウトを設定モーダル内の下部に移動
- 下部ナビバーを4つに統一（ホーム・タスク・ログ・プロフィール）

### API上限エラー対応
- レート制限・クォータエラー検出時に「現在βテスト版のため、APIの利用上限に達しました。しばらく時間を空けてから操作してください。」と表示

### AIキャラクター調整
- 基本は敬語で話すように調整
- 人間らしい感情表現を追加
  - 驚き: 「えっ、そうなんですか！？」「おお！」
  - 喜び: 「わぁ、すごいですね！」
  - 共感: 「わかります...」
  - 相槌: 「へぇ〜！」「なるほど〜」

### データ分離確認
- ユーザーごとにFirestoreデータは完全に分離
- セキュリティルールで `request.auth.uid == userId` を検証
